datasource db {
  url      = "file:./neon.db"
  provider = "sqlite"
}

generator client {
  provider = "prisma-client-js"
}

model Title {
  id        Int      @id @default(autoincrement())
  createdAt DateTime
  path      String

  name        String
  overview    String?
  tagline     String?
  releaseDate DateTime?
  runtime     Int?

  media   Media[]
  credits Credit[]

  @@map("titles")
}

model Actor {
  id        Int      @id @default(autoincrement())
  createdAt DateTime
  name      String
  bio       String?
  media     Media[]
  credits   Credit[]

  @@map("actors")
}

model Credit {
  id         Int     @id @default(autoincrement())
  actor      Actor   @relation(fields: [actorId], references: [id])
  actorId    Int
  title      Title   @relation(fields: [titleId], references: [id])
  titleId    Int
  department String?
  job        String?

  @@map("credits")
}

model Media {
  id      Int    @id @default(autoincrement())
  type    Int
  uri     String
  title   Title? @relation(fields: [titleId], references: [id])
  titleId Int?
  actor   Actor? @relation(fields: [actorId], references: [id])
  actorId Int?

  @@map("media")
}

model Library {
  id        Int      @id @default(autoincrement())
  createdAt DateTime
  name      String
  type      Int

  @@map("libraries")
}
